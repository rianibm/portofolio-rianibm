---
import BaseHead from "@/components/BaseHead.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import { Icon } from "astro-icon/components";
import { getCollection } from "astro:content";

import avatarAvif from "@/assets/images/avatar/about.avif";
import avatarWebp from "@/assets/images/avatar/about.webp";
import avatarPng from "@/assets/images/avatar/about.png";
import rianibmAvatar from "@/assets/rianibm-removebg-preview.png";

const title = "About Riani BM";
const description =
  "Portofolio of Rianibm. UX Engineer & Frontend Developer based in Jakarta, Indonesia.";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

const bgClasses = [
  "hover:shadow-ppinkHover",
  "hover:shadow-pgreenHover",
  "hover:shadow-pblueHover",
  "hover:shadow-pyellow",
];

const skillBgClasses = [
  "bg-pgreen rounded-full",
  "bg-pblue rounded-2xl",
  "bg-ppink",
  "bg-pyellow rounded-md",
];

const getRandomClass = () =>
  bgClasses[Math.floor(Math.random() * bgClasses.length)];
const getSkillClass = (i: number) => skillBgClasses[i % skillBgClasses.length];

const aboutSkills = [
  {
    category: "Frontend Development",
    icon: "1",
    skills: ["React", "TypeScript", "Next.js", "JavaScript ES6+", "Astro"],
  },
  {
    category: "Styling & Design",
    icon: "2",
    skills: [
      "Tailwind CSS",
      "Bootstrap",
      "Sass/SCSS",
      "CSS3",
      "Responsive Design",
      "Mobile-First",
    ],
  },
  {
    category: "Backend (Supporting)",
    icon: "3",
    skills: [
      "MySQL",
      "PostgreSQL",
      "Laravel",
      "PHP",
      "Node.js",
      "Express JS",
      "REST APIs",
    ],
  },
  {
    category: "Tools & Workflow",
    icon: "4",
    skills: ["Git", "Webpack", "Vite", "NPM/Yarn", "Figma"],
  },
  {
    category: "Mobile & Performance",
    icon: "5",
    skills: [
      "PWA",
      "Mobile Web",
      "Performance Optimization",
      "Lighthouse",
      "SEO",
    ],
  },
];
---

<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
    <meta
      name="keywords"
      content="Rianibm, Riani BM, UX Engineer, Frontend Developer, Portfolio, React, Laravel, Tailwind, UI/UX"
    />
    <meta name="author" content="Rianibm" />
    <meta
      name="google-site-verification"
      content="RCc1MVKPhX5dC6D2cAtvSUNTKVPZemBb-O5jEo7czuY"
    />
  </head>
  <body>
    <Header />
    <main id="main-content" tabindex="-1" class="container mx-auto md:px-10">
      <article>
        <a
          href="/"
          aria-label="Go back to homepage"
          class="inline-block px-6 py-3 bg-pgreen text-black rounded-lg font-semibold text-sm hover:shadow-hover transition-all duration-200 border border-black"
        >
          Back to Home
        </a>
        <!-- Photo + Title -->
        <div
          class="flex flex-col items-center pt-10 pb-6 gap-4"
          transition:animate="fade"
        >
          <div
            class="w-36 h-36 md:w-48 md:h-48 rounded-full overflow-hidden border-4 border-black shadow-card settle"
          >
            <picture>
              <source srcset={avatarAvif.src} type="image/avif" />
              <source srcset={avatarWebp.src} type="image/webp" />
              <img
                src={avatarPng.src}
                alt="Riani BM"
                class="w-full h-full object-cover"
                width={avatarPng.width}
                height={avatarPng.height}
                loading="eager"
              />
            </picture>
          </div>
          <h1 class="text-3xl md:text-5xl font-semibold text-center">
            <span class="font-kablamo text-ppink">A</span>bout Me
          </h1>
          <p class="text-pblack text-center text-sm md:text-base">
            Frontend Developer with UX Engineering background, based in
            Indonesia
          </p>
        </div>

        <div class="text-black px-6 md:px-0">
          <div class="flex flex-col">
            <!-- What I Do -->
            <section
              class="flex flex-col gap-3 animate-on-scroll from-bottom bg-white rounded-xl p-6"
            >
              <h2 class="text-xl md:text-2xl font-bold">
                <span class="font-kablamo text-ppink">W</span>hat I Do
              </h2>
              <p>
                I build scalable, accessible frontend systems with a strong UX
                foundation.
              </p>
              <ul class="list-disc ml-6 space-y-1">
                <li>
                  <strong>User interface development</strong> — from design to production-ready
                  code
                </li>
                <li>
                  <strong>Design-to-code implementation</strong> — pixel-perfect,
                  responsive, and accessible
                </li>
                <li>
                  <strong>High-performance frontends</strong> — optimized for speed
                  and scalability
                </li>
              </ul>
            </section>

            <div class="section-divider" aria-hidden="true"><span></span></div>

            <!-- Technologies Used -->
            <section
              class="flex flex-col gap-3 animate-on-scroll from-bottom p-6"
            >
              <h2 class="text-xl md:text-2xl font-bold">
                <span class="font-kablamo text-ppink">T</span>echnologies
              </h2>
              <div class="flex flex-col gap-2">
                {
                  aboutSkills.map((skillGroup, i) => {
                    const skillClass = getSkillClass(i);
                    return (
                      <div
                        class="border border-black rounded-lg p-3 shadow-card hover:shadow-hover transition-all duration-200 animate-on-scroll from-bottom"
                        style={`--delay: ${i * 0.1}s`}
                      >
                        <div class="flex items-center gap-2 mb-1">
                          <div
                            class={`${skillClass} p-1 border border-black shadow-card1 text-sm`}
                          >
                            <Icon name={skillGroup.icon} aria-hidden="true" />
                          </div>
                          <div class="font-semibold text-sm">
                            {skillGroup.category}
                          </div>
                        </div>
                        <ul class="flex flex-wrap gap-1">
                          {skillGroup.skills.map((skill) => (
                            <li class="px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs border border-gray-300">
                              {skill}
                            </li>
                          ))}
                        </ul>
                      </div>
                    );
                  })
                }
              </div>
            </section>

            <div class="section-divider" aria-hidden="true"><span></span></div>

            <section
              class="flex flex-col gap-3 animate-on-scroll from-bottom bg-white rounded-xl p-6"
            >
              <h2 class="text-xl md:text-2xl font-bold">
                <span class="font-kablamo text-ppink">W</span>hat I've Worked On
              </h2>
              <p>
                I work on core frontend systems across retail and logistics,
                focusing on scalable UI, maintainable code, and real production
                use cases.
              </p>
              <ul class="list-disc ml-6 space-y-1">
                <li>
                  <strong>Member+</strong> — web application built with <strong
                    >React + Next.js</strong
                  >, including <strong>SSO integration</strong> for member authentication
                </li>
                <li>
                  <strong>3PL logistics platform</strong> — frontend built with <strong
                    >React + TypeScript</strong
                  >, with <strong>unit testing</strong> for critical flows
                </li>
                <li>
                  <strong>Affiliator platform</strong> — user-facing dashboards developed
                  using <strong>React.js</strong>
                </li>
                <li>
                  <strong>Web applications</strong> — leading UI migration from <strong
                    >Bootstrap 3 to Tailwind CSS</strong
                  >, implementing <strong>CSS variables</strong> for scalable and
                  maintainable styling
                </li>
                <li>
                  <strong>UI web & mobile</strong> — handling <strong
                    >UI slicing</strong
                  > and <strong>mobile-first interfaces</strong> to ensure responsive
                  and consistent user experiences
                </li>
              </ul>
            </section>

            <div class="section-divider" aria-hidden="true"><span></span></div>

            <section
              class="flex flex-col gap-3 animate-on-scroll from-bottom p-6"
            >
              <h2 class="text-xl md:text-2xl font-bold">
                <span class="font-kablamo text-ppink">E</span>xperience
              </h2>
              <div class="border border-black rounded-lg p-4 shadow-card">
                <h3 class="font-semibold text-lg">Frontend Developer</h3>
                <p class="text-pblack text-sm">
                  PT Indomarco Prismatama (Indomaret Group) · 2023 - Current
                </p>
                <ul class="list-disc ml-6 space-y-1 mt-2">
                  <li>
                    Building and maintaining frontends for internal systems and
                    public-facing platforms
                  </li>
                  <li>
                    Leading UI revamp and design system modernization across
                    multiple products
                  </li>
                  <li>
                    Developing web and mobile interfaces for logistics,
                    warehouse, and 3PL platforms
                  </li>
                  <li>
                    Collaborating cross-functionally on ERD discussions, design
                    reviews, and backend tasks
                  </li>
                </ul>
              </div>
            </section>

            <div class="section-divider" aria-hidden="true"><span></span></div>

            <section
              class="flex flex-col gap-3 animate-on-scroll from-bottom bg-white rounded-xl p-6"
            >
              <h2 class="text-xl md:text-2xl font-bold">
                <span class="font-kablamo text-ppink">H</span>ow I Work
              </h2>
              <p>
                I work across the stack, bridging design and engineering to ship
                polished products.
              </p>
              <ul class="list-disc ml-6 space-y-1">
                <li>
                  <strong>Design reviews</strong> and <strong>UI slicing</strong
                  > — translating designs into clean code
                </li>
                <li>
                  <strong>ERD discussions</strong> and <strong
                    >backend collaboration</strong
                  > — comfortable when needed
                </li>
                <li>
                  <strong>Cross-functional teamwork</strong> — effective in international
                  and multidisciplinary teams
                </li>
              </ul>
              <p>
                If you're looking for someone who can take ownership of frontend
                development and align with business needs — feel free to
                <a
                  href="mailto:rianimatialu@gmail.com"
                  aria-label="Email Riani BM"
                  class="text-ppink font-bold underline">get in touch</a
                >.
              </p>
            </section>

            <div class="section-divider" aria-hidden="true"><span></span></div>

            <div
              class="flex gap-2 items-center p-6 animate-on-scroll from-bottom"
            >
              <div
                class="bg-pgreen rounded-full w-10 h-10 aspect-square object-contain overflow-hidden"
              >
                <img
                  src={rianibmAvatar.src}
                  alt="Riani BM"
                  class="w-full h-full object-cover"
                  width={rianibmAvatar.width}
                  height={rianibmAvatar.height}
                  loading="lazy"
                />
              </div>
              <div>
                <div class="font-semibold text-sm">Riani BM</div>
                <p class="text-pblack text-xs">
                  Frontend Developer from Indonesia
                </p>
              </div>
            </div>
          </div>
        </div>
      </article>
    </main>
    <Footer />
    <style>
      .section-divider {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem 0;
      }
      .section-divider span {
        display: block;
        width: 40px;
        height: 3px;
        border-radius: 9999px;
        background: linear-gradient(90deg, #f9a8d4, #93c5fd, #86efac);
      }
    </style>
    <script>
      let observer: IntersectionObserver | null = null;
      function initScrollAnimations() {
        const prefersReducedMotion = window.matchMedia(
          "(prefers-reduced-motion: reduce)",
        ).matches;

        if (
          prefersReducedMotion ||
          document.documentElement.classList.contains("reduce-motion")
        ) {
          document
            .querySelectorAll(".animate-on-scroll")
            .forEach((el) => el.classList.add("animated"));
          return;
        }

        if (!observer) {
          observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.classList.add("animated");
                  observer?.unobserve(entry.target);
                }
              });
            },
            { threshold: 0.15 },
          );
        }
        document
          .querySelectorAll(".animate-on-scroll:not(.animated)")
          .forEach((el) => observer?.observe(el));
      }
      initScrollAnimations();
      document.addEventListener("astro:after-swap", () => {
        observer?.disconnect();
        observer = null;
        initScrollAnimations();
      });
    </script>
  </body>
</html>
